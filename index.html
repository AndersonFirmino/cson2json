<!DOCTYPE html>
<!-- saved from url=(0024)http://coffeescript.org/ -->
<html class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<title>cson2json</title>
	<link rel="canonical" href="./CoffeeScript.html">
	<link rel="stylesheet" type="text/css" href="./docs.css">
	<link rel="stylesheet" type="text/css" href="./tomorrow.css">
	<link rel="shortcut icon" href="http://coffeescript.org/documentation/images/favicon.ico">
<style type="text/css">.fancybox-margin{margin-right:0px;}</style></head>
<body data-gclp-initialized="true" data-gistbox-initialized="true">


	<div id="flybar">
		<a id="logo" href="http://cson2json.com"><img src="./logo.png" width="225" height="39" alt="CoffeeScript"></a>

		<div class="navigation try active">
			<div class="contents repl_wrapper">
				<div class="code">
					<div id="repl_source_wrap">
						<textarea id="repl_source" rows="100" spellcheck="false">
title: 'Example Schema in CSON'
type: 'object'
required: [
	'firstName'
	'lastName'
]
properties:
	firstName:
		type: 'string'
	lastName:
		type: 'string'
	age:
		description: 'Age in years'
		type: 'integer'
		minimum: 0


						</textarea>
					</div>
					<div id="repl_results_wrap">
						<pre id="repl_results" data-initialized="true">
{}
						</pre>
					</div>
					<a class="minibutton permalink" id="repl_permalink" href="http://coffeescript.org/#try:alert%20%22Hello%20CoffeeScript!%22">Link</a>
					<br class="clear">
				</div>
			</div>
		</div>


	<script type="text/coffeescript">
		sourceFragment = "try:"

		# Set up the compilation function, to run when you stop typing.
		compileSource = ->
			source = $('#repl_source').val()
			results = $('#repl_results')
			window.compiledJS = ''
			try
				window.compiledJS = CoffeeScript.compile source, bare: on

				el = results[0]
				if el.innerText
					a = window.compiledJS
					b = a.substring 1, a.length - 3
					el.innerText = JSON.stringify eval("("+b.toString()+")"), null, '  '
				else
					results.text(window.compiledJS)
				results.removeClass 'error'
				$('.minibutton.run').removeClass 'error'
			catch {location, message}
				if location?
					message = "Error on line #{location.first_line + 1}: #{message}"
				results.text(message).addClass 'error'
				$('.minibutton.run').addClass 'error'

			# Update permalink
			$('#repl_permalink').attr 'href', "##{sourceFragment}#{encodeURIComponent source}"

		# Listen for keypresses and recompile.
		$('#repl_source').keyup -> compileSource()

		# Load the console with a string of CoffeeScript.
		window.loadConsole = (coffee) ->
			$('#repl_source').val coffee
			compileSource()
			$('.navigation.try').addClass('active')
			false

		# Helper to hide the menus.
		closeMenus = ->
			$('.navigation.active').removeClass 'active'


		# Bind navigation buttons to open the menus.
		$('.navigation').click (e) ->
			return if e.target.tagName.toLowerCase() is 'a'
			return false if $(e.target).closest('.repl_wrapper').length
			if $(this).hasClass('active')
				closeMenus()
			else
				closeMenus()
				$(this).addClass 'active'
			false

		# Dismiss console if Escape pressed or click falls outside console
		# Trigger Run button on Ctrl-Enter
		$(document.body)
			.keydown (e) ->
				closeMenus() if e.which == 27
				evalJS() if e.which == 13 and (e.metaKey or e.ctrlKey) and $('.minibutton.run:visible').length
			.click (e) ->
				return false if $(e.target).hasClass('minibutton')
				closeMenus()

		$('#open_webchat').click ->
			$(this).replaceWith $('<iframe src="http://webchat.freenode.net/?channels=coffeescript" width="625" height="400"></iframe>')

		$("#repl_permalink").click (e) ->
				window.location = $(this).attr("href")
				false

		# If source code is included in location.hash, display it.
		hash = decodeURIComponent location.hash.replace(/^#/, '')
		if hash.indexOf(sourceFragment) == 0
				src = hash.substr sourceFragment.length
				loadConsole src

		compileSource()

	</script>

	<script src="./jquery-1.6.4.js"></script>
	<script src="./coffee-script.js"></script>


</body>
</html>